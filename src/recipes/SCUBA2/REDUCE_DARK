# -*-cperl-*-

=head1 NAME

REDUCE_DARK - recipe for processing dark frames

=head1 DESCRIPTION

Basic processing recipe suitable for dark frames. This recipe will
only be used if all of the input data are dark frames and the
observing mode is not one which only generates darks (e.g. FLATFIELD
or NOISE). To enable their use by subsequent tasks, the dark frames
are stored in the calibration system.

Intermediate files are deleted (if generated).

=head1 NOTES

Dark file names are stored in C<index.dark>.

=head1 DISPLAY

None.

=head1 AUTHOR

Andy Gibb E<lt>agg@astro.ubc.caE<gt>

=head1 COPYRIGHT

Copyright (C) 2008-2009 University of British Columbia. All Rights
Reserved.

This program is free software; you can redistribute it and/or modify
it under the terms of the GNU General Public License as published by
the Free Software Foundation; either version 3 of the License, or (at
your option) any later version.

This program is distributed in the hope that it will be useful, but
WITHOUT ANY WARRANTY; without even the implied warranty of
MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU
General Public License for more details.

You should have received a copy of the GNU General Public License
along with this program; if not, write to the Free Software
Foundation, Inc., 59 Temple Place, Suite 330, Boston, MA 02111-1307,
USA.

=cut

# Standard introduction
_SCUBA2_HELLO_

# Process the dark data - most likely simply a rename operation and
# store in the calibration system.
_PROCESS_DARK_

# Note that the last file created by the frame will not be
# deleted because it is never replaced by anything so will never
# get pushed onto the intermediates array
_DELETE_TEMP_FILES_ KEEP=_drk
