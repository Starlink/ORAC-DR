    if ($Grp->uhdr("ALLOWED_TO_DITHER")) {
	my $jnum = $Frm->jgrp;
        my $grp = $Grp->findjgroup($jnum);
        $grp->uhdr("JITTER_COMPLETE",1);
	{
            my $Grp = $grp;
	    _SKYFLATCOMBINE_
        }
        foreach my $frm ($grp->members) {
            my $Frm = $frm;
	    _STAGE1_ FLATCOR=1
            _CPM_HEDIT_
	    _QUAD_BLKMED_ OBMASK=1
        }
    }


=head1 NAME

_SELF_FLAT_ -- Combine the images from a group to form a sky flat field.
Flat field correct each frame in the group by using the flat.

=head1 DESCRIPTION

When we have been given premission to dither, then combine the images that
comprise the current jitter sequence into a sky flat. Use this sky flat to
correct those self-same input images.

=head1 ARGUMENTS

None

=head1 NOTES

At the moment, this routine really can't be used when doing a reduction at
the tile level as it will only reduce the dither appropriate for the last
frame in the tile sequence. This may need to be addressed at some stage.

=head1 AUTHORS

JRL: Jim Lewis (CASU, IoA)

=head1 COPYRIGHT

Copyright (C) 2004-2007 Cambridge Astronomy Survey Unit.
All Rights Reserved

=cut
